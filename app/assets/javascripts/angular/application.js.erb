var app = angular.module('Roomi', ['ngRoute', 'ng-token-auth']);

app.config(['$routeProvider','$locationProvider','$authProvider', function($routeProvider,$locationProvider, $authProvider) {
  // Configure Angular Routes
  $routeProvider.
    when('/', {
      templateUrl: "<%= asset_path('static_pages/index.html') %>",
      controller: 'StaticPagesCtrl'
    }).
    when('/signup', {
      templateUrl: "<%= asset_path('auth/signup.html') %>",
      controller: 'SignUpCtrl'
    }).
    when('/myprofile',{
      templateUrl: "<%= asset_path('users/myprofile.html') %>",
      controller: 'MyProfileCtrl'
    }).
    when('/myprofile/newflat', {
      templateUrl: "<%= asset_path('flats/flats.html') %>",
      controller: 'ListRoomCtrl'
    }).
    when('/room/:id',{
      templateUrl: "<%= asset_path('flats/singleflat.html') %>",
      controller: 'SingleFlatCtrl'
    }).
    when('/search', {
      templateUrl: "<%= asset_path('flats/search_flat.html') %>",
      controller: 'SearchCtrl'
    })

  $authProvider.configure({
    apiUrl: "<%= ENV['URL'] || 'http://localhost:3000' %>"
  })
}]);